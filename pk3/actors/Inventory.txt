ACTOR CHCPDA : CustomInventory
{
	Tag "Quine 5000 PDA"
	Inventory.maxamount 1
	Inventory.icon "PDAICON"
	+inventory.invbar
	States
	{
	Use:
		TNT1 A 0 ACS_NamedExecuteAlways("ActivatePDA")
		Fail
	}
}

ACTOR PDAMenuActor
{
	-UseSpecial
	States
	{
	Spawn:
		TNT1 A -1
		Stop
	}
}

// =================
// = CARE PACKAGES =
// =================

ACTOR ArtiCarePackageMedical : CustomInventory
{
	Tag "Care Package Beacon (Medical)"
	Inventory.Amount 1
	Inventory.MaxAmount 0x7fffffff
	Inventory.InterHubamount 0x7fffffff
	+inventory.invbar
	Inventory.icon BEAC1ICN
	States
	{
	Use:
		TNT1 A 0 A_FireCustomMissile("CarePackageBeaconMedicalThrown", 0, 0)
		Stop
	}
}


ACTOR CarePackageBeaconMedicalThrown
{
	PROJECTILE
	-NOGRAVITY
	Speed 10
	Scale 0.45
	States
	{
	Spawn:
		BEAC A 1
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("CarePackageBeaconMedical", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 A 1
		Stop
	}
}

ACTOR CarePackageBeaconMedical
{
	States
	{
	Spawn:
		BEAC B 35
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 1 A_SpawnItemEx("TeleportFog", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx("Stimpack", 0,0,2, 1,0,3, random(0,359), SXF_NOCHECKPOSITION)
		TNT1 A 0 A_SpawnItemEx("CHCBasicArmor", 0,0,2, 0,0,3, 0, SXF_NOCHECKPOSITION)
		BEAC B 35
		BEAC BBBBBBBBBB 2 A_FadeOut(0.1,1)
		Stop
	}
}

ACTOR ArtiCarePackagePistol : CustomInventory
{
	Tag "Care Package Beacon (Pistolero)"
	Inventory.Amount 1
	Inventory.MaxAmount 0x7fffffff
	Inventory.InterHubamount 0x7fffffff
	+inventory.invbar
	Inventory.icon BEAC2ICN
	States
	{
	Use:
		TNT1 A 0 A_FireCustomMissile("CarePackageBeaconPistolThrown", 0, 0)
		Stop
	}
}


ACTOR CarePackageBeaconPistolThrown
{
	PROJECTILE
	-NOGRAVITY
	Speed 10
	Scale 0.45
	States
	{
	Spawn:
		BEAC A 1
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("CarePackageBeaconPistol", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 A 1
		Stop
	}
}

ACTOR CarePackageBeaconPistol
{
	States
	{
	Spawn:
		BEAC B 35
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 1 A_SpawnItemEx("TeleportFog", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 AAAAAAAAAAAAAAA 0 A_SpawnItemEx("PistolAmmo", 0,0,2, 1,0,3, random(0,359), SXF_NOCHECKPOSITION)
		BEAC B 35
		BEAC BBBBBBBBBB 2 A_FadeOut(0.1,1)
		Stop
	}
}

ACTOR ArtiCarePackageShotgun : CustomInventory
{
	Tag "Care Package Beacon (Shotgun)"
	Inventory.Amount 1
	Inventory.MaxAmount 0x7fffffff
	Inventory.InterHubamount 0x7fffffff
	+inventory.invbar
	Inventory.icon BEAC3ICN
	States
	{
	Use:
		TNT1 A 0 A_FireCustomMissile("CarePackageBeaconShotgunThrown", 0, 0)
		Stop
	}
}


ACTOR CarePackageBeaconShotgunThrown
{
	PROJECTILE
	-NOGRAVITY
	Speed 10
	Scale 0.45
	States
	{
	Spawn:
		BEAC A 1
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("CarePackageBeaconShotgun", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 A 1
		Stop
	}
}

ACTOR CarePackageBeaconShotgun
{
	States
	{
	Spawn:
		BEAC B 35
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 1 A_SpawnItemEx("TeleportFog", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 AAAAAAAAAA 0 A_SpawnItemEx("ShotgunAmmo", 0,0,2, 1,0,3, random(0,359), SXF_NOCHECKPOSITION)
		BEAC B 35
		BEAC BBBBBBBBBB 2 A_FadeOut(0.1,1)
		Stop
	}
}

ACTOR ArtiCarePackageRifle : CustomInventory
{
	Tag "Care Package Beacon (Rifleman)"
	Inventory.Amount 1
	Inventory.MaxAmount 0x7fffffff
	Inventory.InterHubamount 0x7fffffff
	+inventory.invbar
	Inventory.icon BEAC4ICN
	States
	{
	Use:
		TNT1 A 0 A_FireCustomMissile("CarePackageBeaconRifleThrown", 0, 0)
		Stop
	}
}


ACTOR CarePackageBeaconRifleThrown
{
	PROJECTILE
	-NOGRAVITY
	Speed 10
	Scale 0.45
	States
	{
	Spawn:
		BEAC A 1
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("CarePackageBeaconRifle", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 A 1
		Stop
	}
}

ACTOR CarePackageBeaconRifle
{
	States
	{
	Spawn:
		BEAC B 35
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 17 A_PlaySound("beacon/beep")
		BEAC B 18
		BEAC A 1 A_SpawnItemEx("TeleportFog", 0,0,0,0,0,0,0, SXF_NOCHECKPOSITION)
		TNT1 AAAAAAAAAAAAA 0 A_SpawnItemEx("LightRifleAmmo", 0,0,2, 1,0,3, random(0,359), SXF_NOCHECKPOSITION)
		BEAC B 35
		BEAC BBBBBBBBBB 2 A_FadeOut(0.1,1)
		Stop
	}
}


// =================
// = HAND GRENADES =
// =================

ACTOR ArtiHandGrenade : CustomInventory
{
	Tag "Grenade"
	Inventory.amount 1
	inventory.maxamount 0x7fffffff
	inventory.icon GRENICON
	inventory.usesound "grenade/throw"
	+Inventory.invbar
	+inventory.keepdepleted
	Inventory.InterHubamount 0x7fffffff
	states
	{
	Use:
		TNT1 A 0 A_FireCustomMissile("HandGrenade", 0, 0)
		stop
	}
}

ACTOR HandGrenade
{
	Radius 4
	Height 3
	Speed 30
	Scale 0.25
	Damage (1)
	Gravity 0.75
	DamageType "PlayerGrenade"
	+NOBLOCKMAP 
	+DROPOFF 
	+MISSILE 
	+ACTIVATEIMPACT 
	+ACTIVATEPCROSS
	+CANBOUNCEWATER
	obituary "%o failed to field %k's fragmenting fastball."
	BounceType Doom
	BounceFactor 0.4
	WallBounceFactor 0.4
	bouncesound "grenade/bounce"
	Tag "$SHOP5_ITEM2NAME"
	states
	{
	Spawn:
		THRW A 2 Bright A_Countdown
		THRW BCDEF 2 Bright
		loop
	Death:
		THRW B 35 Bright
		FRME A 0 A_AlertMonsters
		FRME A 0 A_SetScale(1.75,1.75)
		FRME A 0 A_SetTranslucent(0.75,1)
		FRME A 0 A_PlaySound("grenade/explode",0,1.0,0,0.1)
		FRME A 1 bright A_Explode(150,256,1,1,128,15,2)
		FRME B 1 Bright A_Quake(7,10,0,480,0)
		FRME CDEFGHIHJKLMNOPQRS 1 bright
		stop
	}
}

/*
ACTOR IncendiaryGrenade // Let's use this later as a base for the MANIC Mines
{
	Radius 4
	Height 3
	Speed 40
	Scale 0.25
	Damage (1)
	DamageType "PlayerGrenadeFire"
	+NOBLOCKMAP 
	+DROPOFF 
	+MISSILE 
	+ACTIVATEIMPACT 
	+ACTIVATEPCROSS
	+CANBOUNCEWATER
	obituary "%o was roasted, toasted, and burnt to a crisp by %k."
	BounceType Doom
	BounceFactor 0.4
	WallBounceFactor 0.4
	bouncesound "grenade/bounce"
	states
	{
	Spawn:
		GCAN A 1 Bright A_Countdown
		GCAN BCDEFGH 1 Bright
		loop
	Death:
		GCAN D 35 Bright
		FBLX A 0 BRIGHT A_SetScale(1.0,1.0)
     	FBLX A 0 BRIGHT A_AlertMonsters
		FBLX A 0 BRIGHT A_SetTranslucent(0.75,1)
		FBLX A 0 BRIGHT A_PlaySound("grenade/explode",0,1.0,0,0.1)
		FBLX A 1 BRIGHT A_Explode(128,192,1)
		FBLX B 1 BRIGHT A_Quake(7,10,0,256,0)
		FBLX CCCCCCCCCC 0 BRIGHT A_CustomMissile("ThermaBurstMolotovChunk",0,0,(random(0,359)),6,(random(4,15)))
		FBLX CDEFGHIJK 2 BRIGHT
     	Stop
	}
}
*/